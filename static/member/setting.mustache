<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>
    <link rel="stylesheet" href="../css/setting.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>
    {{>menu}}
    <header>
        <h1>My Profile</h1>
    </header>
    
   
    <section id="profile-section">
        <div >
            <img src="/profile-picture.jpg" alt="Profile Picture">
        </div>
        
        <div class="name">
            <h2 id="username">John Doe</h2>
            <p>Email: john@example.com</p>
    
            <form id="profile-form">
                <div class="user">
                    <label for="newUsername">New Username:</label>
                    <input type="text" id="newUsername" name="newUsername" required>
                </div>
                
                <div class="pass">
                    <label for="Password">Old Password:</label>
                    <input type="password" id="Password" name="Password" required>
                </div>

                <div class="pass-new">
                    <label for="newPassword">New Password:</label>
                    <input type="password" id="newPassword" name="newPassword" required>
                </div>
                <div class="profile">
                    <label for="newProfilePicture">New Profile Picture:</label>
                    <input type="file" id="newProfilePicture" name="newProfilePicture" accept=".jpg">
                    <button type="button" onclick="document.getElementById('newProfilePicture').click()">Choose jpg</button>
                    <p id="selectedFileName"></p>
                </div>
                <div class="save">
                    <button type="button" onclick="updateProfile()">Update Profile</button>
                </div>
            </form>
            </div>
        </section>
    
    
    <script>
        function displayFileName() {
        var input = document.getElementById('newProfilePicture');
        var fileName = input.files[0].name;
        document.getElementById('selectedFileName').textContent = 'Selected File: ' + fileName;
        }
        
        function updateProfile() {
            var newUsername = document.getElementById('newUsername').value;
            var oldPassword = document.getElementById('Password').value;
            var newPassword = document.getElementById('newPassword').value;
            var selectedFileName = document.getElementById('selectedFileName').textContent;
        
            // You can perform further actions here, such as updating the profile information on the server.
            console.log('Updating profile...');
            console.log('New Username:', newUsername);
            console.log('Old Password:', oldPassword);
            console.log('New Password:', newPassword);
            console.log(selectedFileName);
        }
        
        function validateImage() {
            var input = document.getElementById('newProfilePicture');
            var file = input.files[0];
        
            if (file) {
                var fileName = file.name;
        
                // แสดงชื่อไฟล์ที่ถูกเลือก
                document.getElementById('selectedFileName').textContent = 'Selected File: ' + fileName;
        
                var fileExtension = fileName.split('.').pop().toLowerCase();
        
                if (fileExtension === 'jpg') {
                    // ทำงานที่ต้องการเมื่อไฟล์ถูกต้อง
                    alert('ไฟล์ถูกต้อง');
                } else {
                    // แจ้งเตือนถ้าไฟล์ไม่ใช่ประเภท JPG
                    alert('กรุณาเลือกไฟล์ที่เป็นรูปภาพประเภท JPG เท่านั้น');
                }
            } else {
                // แจ้งเตือนถ้าไม่มีไฟล์ถูกเลือก
                alert('กรุณาเลือกไฟล์');
            }
            
        }
        document.getElementById('newProfilePicture').addEventListener('change', function () {
            var selectedFile = document.getElementById('newProfilePicture').files[0];
            document.getElementById('selectedFileName').innerText = "Selected File: " + selectedFile.name;
        });
    </script>
</body>
</html>